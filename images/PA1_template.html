<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Reproducible Research: Peer Assessment 1</title>

<script src="PA1_template_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="PA1_template_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="PA1_template_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="PA1_template_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="PA1_template_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="PA1_template_files/navigation-1.1/tabsets.js"></script>
<link href="PA1_template_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="PA1_template_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->





<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Reproducible Research: Peer Assessment 1</h1>

</div>


<div id="loading-and-preprocessing-the-data" class="section level2">
<h2>Loading and preprocessing the data</h2>
<p>First of all we read in the data from a given zip-file. The following variables are include in the dataset.<br />
- steps: Number of steps taking in a 5-minute interval (missing values are coded as NA)<br />
- date: The date on which the measurement was taken in YYYY-MM-DD format<br />
- interval: Identifier for the 5-minute interval in which measurement was taken</p>
<p>We also convert the values of the date column from character to a date-object. This is helpful to differentiate between weekdays and weekend in a later part of the analysis.</p>
<pre class="r"><code>library(dplyr)
library(ggplot2)

# Unzip and read activity-data
data&lt;-read.csv(unzip(&quot;activity.zip&quot;))

# Convert date column into data class
data&lt;-data%&gt;%mutate(date=as.Date(date, &quot;%Y-%m-%d&quot;) )</code></pre>
</div>
<div id="what-is-mean-total-number-of-steps-taken-per-day" class="section level2">
<h2>What is mean total number of steps taken per day?</h2>
<p>To gain some insights of the activity behavior of the observed subject, we calculate the sum of all steps taken per day. In the first approach we remove all observations with missing steps-value.</p>
<pre class="r"><code># Calculating the total steps taken grouped by date (NAs are removed)
steps_date&lt;-data%&gt;%group_by(date)%&gt;%summarize(sum=sum(steps,na.rm = TRUE))</code></pre>
<p>To get an grapical overview, we create a histogram of the “steps taken per day”-value.<br />
In this analysis we see that there is a peak near 10,000 steps. It seams, that there are also 10 days without any taken step.</p>
<pre class="r"><code># Draw a histogramm of the sum of steps per day
g&lt;-ggplot(data = steps_date, aes(steps_date$sum))
g + geom_histogram() +
    labs(x=&quot;Sum of steps taken per day&quot;) +
    labs(title=&quot;Histogram of sum of steps taken per day&quot;)</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-3-1.png" /><!-- --></p>
<p>Now we calculate the mean and the median of the steps taken per day. With these values we can see if there is a negativ skew (mean less than median) in the distribution, that <strong>can</strong> indicate a bias in the data.</p>
<pre class="r"><code># Calculate mean of the sum of steps per day 
mean(steps_date$sum)</code></pre>
<pre><code>## [1] 9354.23</code></pre>
<pre class="r"><code># Calculate median of the sum of steps per day 
median(steps_date$sum)</code></pre>
<pre><code>## [1] 10395</code></pre>
</div>
<div id="what-is-the-average-daily-activity-pattern" class="section level2">
<h2>What is the average daily activity pattern?</h2>
<p>Next we want to take a look on the activity behavior during the whole day. Doing this, we calculate the average number of steps taken grouped by every interval.</p>
<pre class="r"><code># Calculating the average steps taken grouped by interval (NAs are removed)
steps_interval&lt;-data%&gt;%group_by(interval)%&gt;%summarize(mean=mean(steps,na.rm = TRUE))</code></pre>
<p>To get an graphical overview, we draw a time series plot of the data. Especially we can see a difference day and night time.</p>
<pre class="r"><code># Draw a time series plot of the average taken steps over every interval of the day
g&lt;-ggplot(data = steps_interval, aes(x=steps_interval$interval, y=steps_interval$mean))
g + geom_line() +
    labs(x=&quot;Daytime&quot;) +
    labs(y=&quot;Average count of steps per interval&quot;) +
    labs(title=&quot;Time series plot of activity during the day&quot;)</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-6-1.png" /><!-- --></p>
<p>The plot shows a high peak in the morning. Lets calculate the maximum average count of steps and the corresponding interval.</p>
<pre class="r"><code># Identify the maximum value of the ploted data
steps_interval$mean[which.max(steps_interval$mean)]</code></pre>
<pre><code>## [1] 206.1698</code></pre>
<pre class="r"><code># Identify the interval with the max-value
steps_interval$interval[which.max(steps_interval$mean)]</code></pre>
<pre><code>## [1] 835</code></pre>
</div>
<div id="imputing-missing-values" class="section level2">
<h2>Imputing missing values</h2>
<p>During the previous steps the missing values were rougly removed form the dataset. Lets calculate the ammount of missing values.</p>
<pre class="r"><code># Identify rows with missing values and count them
f&lt;-is.na(data$steps)
sum(f)</code></pre>
<pre><code>## [1] 2304</code></pre>
<p>Now we want to assume the missing values. The missing values are replaced by the average steps taken per interval, calculated in the previous step.</p>
<pre class="r"><code># Filter raw data by missing values and selecting only the date and interval column
data_na&lt;-data%&gt;%filter(is.na(data$steps))%&gt;%select(date, interval)

# Merge the data frame where the steps-value is missing, with the avarage steps per interval
data_na&lt;-merge(data_na,steps_interval,x.by = &quot;interval&quot;, y.by = &quot;interval&quot;, all= TRUE)
names(data_na)&lt;-c(&quot;interval&quot;,&quot;date&quot;,&quot;steps&quot;)

# Combine the raw dataset without NAs with imputed data
data2&lt;-rbind(data_na, data[!f,])</code></pre>
<p>To get an graphical overview, we calculate the sum of all steps taken per day again. This time we don’t need to remove NAs.</p>
<pre class="r"><code># Calculating the total steps taken grouped by date
steps_date2&lt;-data2%&gt;%group_by(date)%&gt;%summarize(sum=sum(steps))</code></pre>
<p>Again we create a histogram of the “steps taken per day”-value. In this analysis we see again that there is a peak near 10,000 steps. But the count of days without any step taken is much smaller.</p>
<pre class="r"><code># Draw a histogramm of the sum of steps per day
g&lt;-ggplot(data = steps_date2, aes(steps_date2$sum))
g + geom_histogram() +
    labs(x=&quot;Sum of steps taken per day&quot;) +
    labs(title=&quot;Histogram of sum of steps taken per day&quot;)</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-11-1.png" /><!-- --></p>
<p>Again we calculate the mean and the median of the steps taken per day. With these values we can see if there is a skew in the distribution, that <strong>can</strong> indicate a bias in the data. As mean and median are exactly the same, there is no skew in the distribution any more. So the eventual bias could be removed.</p>
<pre class="r"><code># Calculate mean of the sum of steps per day 
mean(steps_date2$sum)</code></pre>
<pre><code>## [1] 10766.19</code></pre>
<pre class="r"><code># Calculate median of the sum of steps per day
median(steps_date2$sum)</code></pre>
<pre><code>## [1] 10766.19</code></pre>
</div>
<div id="are-there-differences-in-activity-patterns-between-weekdays-and-weekends" class="section level2">
<h2>Are there differences in activity patterns between weekdays and weekends?</h2>
<p>In a final step we want to analyze, if there is a difference in activity between <strong>weekdays</strong> and <strong>weekends</strong>. To do this, we identify the day of the week using the given date and differentiate it into weekday and weekend.</p>
<pre class="r"><code># Identify the the spezific weekday from date
data2&lt;-data2 %&gt;% mutate(weekday=factor(weekdays(data2$date)))

# Differentiate weekdays and weekend
levels(data2$weekday)&lt;-c(&quot;weekday&quot;,&quot;weekday&quot;,&quot;weekday&quot;,&quot;weekday&quot;,&quot;weekday&quot;,&quot;weekend&quot;,&quot;weekend&quot;) </code></pre>
<p>To get an graphical overview, we calculate the avarage taken steps per interval for weekdays and weekend and draw a time series plot of both. The plot shows that the observed peak near 8 o’clock only occurs on weekdays. This leads to the assumption, that this represents the way to work.</p>
<pre class="r"><code># Calculating the average steps taken grouped by interval and weekday
steps_interval2&lt;-data2%&gt;%group_by(weekday,interval)%&gt;%summarize(mean=mean(steps))

# Draw a time series plot of the average taken steps over every interval of the day for weekdays and weekend
g&lt;-ggplot(data = steps_interval2, aes(x=steps_interval2$interval, y=steps_interval2$mean, col=weekday))
g + geom_line() + 
    facet_grid(weekday~.) +
    labs(x=&quot;Daytime&quot;) +
    labs(y=&quot;Average count of steps per interval&quot;) +
    labs(title=&quot;Time series plot of activity during the day&quot;)</code></pre>
<p><img src="PA1_template_files/figure-html/unnamed-chunk-14-1.png" /><!-- --></p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
